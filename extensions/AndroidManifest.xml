<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

  <uses-feature android:name="ireader" />

  <!-- Declare this is an extension, not a standalone app -->
  <uses-feature android:name="ireader.extension" android:required="true" />

  <application
    android:label="${appName}"
    android:icon="@mipmap/ic_launcher"
    android:hasCode="true"
    android:allowBackup="false"
    android:supportsRtl="true">

    <!-- Disable androidx-startup InitializationProvider to avoid provider conflicts -->
    <provider
        android:name="androidx.startup.InitializationProvider"
        android:authorities="${applicationId}.androidx-startup"
        tools:node="remove" />

    <meta-data
      android:name="source.id"
      android:value="${sourceId}" />
    <meta-data
      android:name="source.name"
      android:value="${sourceName}" />
    <meta-data
      android:name="source.lang"
      android:value="${sourceLang}" />
    <meta-data
      android:name="source.description"
      android:value="${sourceDescription}" />
    <meta-data
      android:name="source.nsfw"
      android:value="${sourceNsfw}" />
    <meta-data
        android:name="source.icon"
        android:value="${sourceIcon}" />
    <meta-data
        android:name="source.dir"
        android:value="${sourceDir}" />
    <meta-data
        android:name="source.assets"
        android:value="${assetsDir}" />
  </application>
</manifest>
